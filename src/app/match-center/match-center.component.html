<!-- --Match Center Header ---->
<div class="row match-center-header" *ngIf="activePage == 'matches'">
  <!-- Left: Title -->
  <div class="col-4">
    <h2 class="heading">Match Center</h2>
  </div>
  <!-- Right: Filters -->
  <div class="col-8 ">
    <div class="row">
      <!-- Status Dropdown -->
      <div class="col-2 col-main-dropdown">
        <p-dropdown [options]="statuses" [(ngModel)]="selectedStatus" optionLabel="label" optionValue="value"
          placeholder="Select Status" styleClass="fixed-dropdown">
        </p-dropdown>
      </div>

      <!-- Gender Dropdown -->
      <div class="col-2 col-main-dropdown">
        <p-dropdown [options]="genders" [(ngModel)]="selectedGender" optionLabel="label" optionValue="value"
          placeholder="Select Gender" styleClass="fixed-dropdown">
        </p-dropdown>
      </div>

      <!-- Age Group Dropdown -->
      <div class="col-2 col-main-dropdown">
        <p-dropdown [options]="ageGroups" [(ngModel)]="selectedAgeGroup" optionLabel="label" optionValue="value"
          placeholder="Select Age Group" styleClass="fixed-dropdown">
        </p-dropdown>
      </div>

      <!-- Match Type Dropdown -->
      <div class="col-2 col-main-dropdown">
        <p-dropdown [options]="matchTypes" [(ngModel)]="selectedMatchType" optionLabel="label" optionValue="value"
          placeholder="Select Match Type" styleClass="fixed-dropdown">
        </p-dropdown>
      </div>

      <!-- Team Format Dropdown (optional) -->
      <div class="col-2 col-main-dropdown">
        <p-dropdown [options]="teamFormats" [(ngModel)]="selectedTeamFormat" optionLabel="label" optionValue="value"
          placeholder="Select Team Format" styleClass="fixed-dropdown">
        </p-dropdown>
      </div>


    </div>
  </div>
</div>
<!-- --Match Cards Grid ---->
<div *ngIf="activePage =='matches'" class="row match-center-body">
  <div class="col-12 match-grid">
    <!-- If filtered matches exist -->
    <ng-container *ngIf="paginatedMatches.length > 0; else noData">
      <div class="match-card" *ngFor="let match of paginatedMatches">
        <!-- Card Image -->
        <div class="card-image">
          <!-- <img src="assets/images/Flash Light.jpeg" alt="Flash Light"> -->
        </div>

        <!-- Top Row: Match Type | Dates | Status -->
        <div class="top-row">
          <div class="match-type">{{ match.comp_type }}</div>
          <div class="match-dates">{{ match.start_date }} â€“ {{ match.end_date }}</div>
          <div class="status">{{ match.status }}</div>
        </div>
        <!-- Series Name -->
        <div class="series-name-container">
          <div class="series-name">{{ match.competition_name }}</div>
        </div>
        <!-- Series Match Counts -->
        <div class="series-match-counts">
          <ng-container *ngFor="let type of getMatchTypeCounts(match.competition_id) | keyvalue">
            <span class="count-badge" (click)="showPointsForm(match.competition_id, type.key)">
              {{ type.key }}: {{ type.value }}
            </span>
          </ng-container>
        </div>

        <button *ngIf="hasPoints(match.competition_id)" class="points-btn"
          (click)="showPointsForm(match.competition_id)">
          Points
        </button>
      </div>
    </ng-container>
    <!-- No data template -->
    <ng-template #noData>
      <div class="match-card no-data-card">
        <p>No Matches Found</p>
      </div>
    </ng-template>
  </div>
  <!-- Paginator -->
  <div class="match-cardpaginator-container">
    <p-paginator [rows]="rows" [totalRecords]="totalData" [first]="first" [rowsPerPageOptions]="[6, 12, 18]"
      (onPageChange)="onPageChange($event)">
    </p-paginator>
  </div>
</div>



<div *ngIf="activePage === 'points'">
  <app-match-points
    [competitionId]="competitionId"  [selectedMatchType]="selectedMatchType" (hideMatches)="closePointsForm($event)">
  </app-match-points>
</div>
