<div class="parent-container">
  <button class="new-button p-button-text Comp-child-butn" (click)="AddTeam()">Add Teams</button>
</div>

<p-pickList 
  [source]="sourceTeams"
  [target]="targetTeams"
  [dragdrop]="true"
  [responsive]="true"
  [showSourceFilter]="true"
  [showTargetFilter]="true"
  filterBy="team_name"
  sourceFilterPlaceholder="Search Available..."
  targetFilterPlaceholder="Search Target..."
  [sourceStyle]="{ height: '20rem' }"
  [targetStyle]="{ height: '20rem' }"
  (onMoveToTarget)="onMoveToTarget($event)"
>
  <!-- Source Header -->
  <ng-template pTemplate="sourceHeader">
    <div class="p-d-flex p-ai-center">Available</div>
  </ng-template>

  <!-- Target Header -->
  <ng-template pTemplate="targetHeader">
    <div class="p-d-flex p-ai-center">Selected Teams</div>
  </ng-template>

  <!-- Target Items (Selected Teams) -->
  <ng-template pTemplate="targetItem" let-team let-i="index">
    <div class="flex flex-wrap p-2 align-items-center gap-3" [ngClass]="{ 'highlight-target': team.highlighted }">
      <div class="flex-1 flex flex-column gap-2">
        <span class="person-image-team-player">
          <img class="player-img" *ngIf="!team.profile_img || !team.player_profile" [src]="default_img">
          <img class="player-img" *ngIf="team.profile_img && team.player_profile" [src]="team.profile_img" (error)="handleImageError($event, default_img)">
        </span>
        <span class="font-bold">{{ team.team_name }}</span>

        <!-- Edit Button -->
        <span *ngIf="team.highlighted">
          <button class="clear-width edit-button" (click)="showEditPopup(team)">Edit</button>
        </span>
      </div>
    </div>
  </ng-template>
</p-pickList>
    <!-- Edit Popup for Selected Team -->
    <div *ngIf="isEditPopupVisible" class="popup-backdrop">
      <div class="popup-wrapper">

      <div class="popup">
        
        <form [formGroup]="ManageTeamsForm" class="p-4 border rounded shadow-sm bg-white">
          <div class="mb-3">
            <label for="scorecardName" class="form-label fw-semibold">
              Scorecard Name <span class="text-danger">*</span>
            </label>
            <input
              id="scorecardName"
              type="text"
              class="form-control"
              formControlName="scorecard_name"
              placeholder="Enter scorecard name"
            />
          </div>
        
          <div class="mb-3">
            <label for="sponsorName" class="form-label fw-semibold">
              Sponsor Name
            </label>
            <input
              id="sponsorName"
              type="text"
              class="form-control"
              formControlName="sponser_name"
              placeholder="Enter sponsor name (optional)"
            />
          </div>
        
          <div class="text-end">
            <button
              type="submit"
              class="btn btn-primary"
              (click)="updateTeam()" >
              Submit
            </button>
          
            <button
              type="submit"
              class="btn btn-secondary ms-2"
             
              (click)="closeEditPopup()" >
              Close
            </button>
          </div>
          
        </form>
        
    
     
      </div>
      </div>
    </div>
    

